+++
title = "This Week In Veloren 52"
description = ""

date = 2020-01-27
weight = 0
slug = "devblog-52"

[extra]
banner = "https://media.discordapp.net/attachments/634860358623821835/670374225235673108/bg_main.png?width=1216&height=684"

[taxonomies]
tags = ["devblog"]
+++

\- AngelOnFira, TWiV Editor

# Contributor Work

Thanks to this week's contributors, @Sharp, @Zesterer, @Pfauenauge, @Imbris, @Slipped, @Acrimon, @Payload1, @Timo, @Treeco, @flyingfryingpan, @Friz64, @Ender, and @Songtronix!

@Zesterer has done a lot of work this week on AI. This includes pathfinding, aggro switching, and pet AI. @Sharp got their new worldgen merged just in time for 0.5 as well. @Slipped merged their work on new animals. @Qutrin started working on the switch to wgpu as the new graphics API. @AlbinoAxolotl 

{{ video(src="https://cdn.discordapp.com/attachments/597826574095613962/671012089367887912/font.mp4", caption="Configurable fonts for the localization system by @Ender") }}

# 1 Year of This Week in Veloren by @AngelOnFira

This is TWiV #52! That means that one year ago, I had just put out [the first edition](https://veloren.net/devblog-1/). At that point, I was just looking for something that I could contribute to on the project. I didn't know the direction the blog would take, just that I wanted to do one every week. If I didn't, I knew I wouldn't write the next one either. So while on vacation in Europe for a month, during exams, and other busy times, I kept up with the weekly, monday (or tuesday) devblogs.

This was great for me, as it helped give structure to a lot of the rest of my week. I'm super proud of being able to do this for an entire year! It is my biggest achievement on Veloren, but while we're at it, let's take a look at some of the other contributor's achievements.

@Songtronix is happy about their progress on making Veloren easily distributatble with Airshipper. They've taken it on themselves to continually work on improving the Veloren experience. In this coming year, @Songtronix wants to keep working on this by improving documentation in The Book, as well as stabalizing many of the current technologies on the go like auth.

@Mckol has spend much of the last year improving their Rust skills. They have worked a lot on to do with package distribution of Veloren, specifically with the AUR. They also did lots of work on The Book, controller support, and Polish translations. @Mckol is excited about the prospect of content in Veloren this year, and determined to stabilize controller support throughout the game.

@Shandley has been working through many small issues mostly in the SFX area. They're excited about questing and where it's headed, since community-driven content will be a major part of Veloren. This year, @Shandley wants to continue work on the music and sound system. Also, fishing as a side goal 🐟

@Slipped is proud of their work on the new animals in the game. As an early voxel artist of the game, they are now focusing on heading up the animation efforts of Veloren. @Slipped is excited about the future of the animation system, as well as worldsim. "We have a really cool simulation base with the physical simulation of the world so far. Seeing history layered on top of that in a way that has real-world, dynamic consequences will be amazing to see. The devs planning in that area have some really great visions for Veloren". @Slipped is excited to see more biodiversity in the game, and will also be focusing on combat animations.

@Tub is happy about the new website design they've been working on. It was a good experience getting feedback from other developers, and iterating on the design. @Tub hopes to start working on the engine itself this year when they can find time.

@Silentium's biggest milestone was becoming the lead of the game design working group, for which they are super honored. After iterating on the design process many times, @Silentium is excited the next steps development; implementing the designs. They are working to finish the combat design, and start working with other groups on other design needs such as exploration and crafting.



# Website Update by @Tub

A project that has been idling on my desk for months has finally been finished: the website redesign. The most obvious change is that the giant header has been removed and used as a background instead. The second most obvious one (and the whole point of the redesign) was to add a proper start page that's more than just a list of devblogs.

Behind the scenes, a lot of cleanup has happened. Unused features were disabled and removed, some javascript was removed in favor of modern css features, css files were restructured and minified. Shortcodes were added, alleviating the need to write custom html code in the pages, and giving a more consistent layout. All of these result in faster page loads with less jitter, slightly better SEO and accessibility, and cleaner code going forward.

Once these things were done, several community members jumped in with suggestions, bug reports and ideas, many of which I was able to implement during the past weeks. Being my first contribution in this community, it has once again shown me the value of collaboration - together, we created a better site than I could have created alone. Now that the site is live, I expect more ideas to pour in, paving the road for future improvements.

# Airshipper Progress by @Songtronix

Last time I've shown the concept art on how Airshipper should look like:

{{ img(src="https://cdn.discordapp.com/attachments/590304034175451166/656126305531592704/launcher.png", caption="Airshipper Design") }}

Thanks to the wonderful help of @Timo with his constant effort to make it real we're finally approaching a consumer-ready GUI.
Before spoiling you with the final version, let's follow us on our journey on how we have done it!

@Timo started to work on the layout of the UI:

{{ img(src="https://cdn.discordapp.com/attachments/606794753392115722/661132017341300743/screenshot.png", caption="Initial Layout") }}

> ugly but a start

And already after a little bit of time he has almost done it:

{{ img(src="https://cdn.discordapp.com/attachments/606794753392115722/661295008455852063/screenshot.png", caption="Layout almost done") }}

> we even show the changelog now!

After some finishing touches he's done the layout of the UI!

{{ img(src="https://cdn.discordapp.com/attachments/606794753392115722/661479736815517706/screenshot.png", caption="Layout done") }}

> looking good so far!

Well, if you look closely you can see a slider beside the play button. _Why?_ Well until then there was no progress bar in the GUI library which can fill up nicely while downloading the game.
As I always wanted to contribute to [iced](https://github.com/hecrj/iced) I thought this is the chance! So I've done it and I loved the process of doing so!
After my [Merge Request](https://github.com/hecrj/iced/pull/141) has been accepted I played around with it for about an hour

{{ img(src="https://cdn.discordapp.com/attachments/606794753392115722/662243497822257152/Peek_2020-01-02_11-38.gif", caption="Progressbar") }}

> I still do this every day...

And then with some customization efforts by @Timo:

{{ img(src="https://cdn.discordapp.com/attachments/606794753392115722/665298474899734588/screenshot.png", caption="Stylised UI") }}

> and songtronix is the coolest ^^

Leaving out all the backend horror we have like making the download button do the actual thing, I have put some efforts to get the UI closer to the design by showing the blogposts and even add buttons which link to the respective blog! For all the poor souls with a bad internet connection: Do not worry, we cache the news and changelog and only download the whole thing if it actually has changed.

{{ img(src="https://cdn.discordapp.com/attachments/606794753392115722/669213993138651136/Peek_2020-01-21_17-16.gif", caption="UI with news and changelog") }}

Now let's see airshipper actually starting the game:

{{ img(src="https://cdn.discordapp.com/attachments/590304034175451166/670949726903861268/reddit.gif", caption="Starting the game") }}

# Soliloquy of @Pfauenauge

```
[ADMIN][Pfau] what needs adjusting
[ADMIN][Pfau] is the min and max value you can zoom in and out
Sharp went offline.
[ADMIN][Pfau] *off he goes*
[ADMIN][Pfau] Sometimes I wonder what my role on veloren is
[ADMIN][Pfau] Quality Control? Art Director? Clown?
Pfau died
```

# Veloren For All Of Us: Localization System by @Ender

Even if English became the de-facto standard on the Internet exchanges and more commonly in the international scene, an important part of the worldwide population is not able to learn it or just prefer to enjoy cultural contents in their native languages. It is even more true for video games like Veloren as you can play it in early ages. Translations is thus an important step to increase the popularity of the game and make it accessible to the greatest number.

More personaly, it was for me a great opportunity to discover the Veloren source code and develop my first feature in Rust and I realy enjoyed to work on this subject as it allows other people like translators to contribute to this great project.

So, what is the road from an English specific application to internationalized one. At the first glance, it doesn’t seem so complicated: it’s all about texts right? So how many files and lines of source code a translator have to look into in order to be sure all texts are correctly translated in the   0.4.0 stable version:  


In total there are 107 files in Veloren client application containing 931 lines of text among 23855 lines of code (and it raises by at least 20% in 0.5.0 version). Translate Veloren for non technical people with this architecture is basically a no-go as it is like looking for a needle in a haystack. So the first step to simplify this is to factorize the displayed texts in an unique file and access them by a key-value system.


With this system, new localizations can be easily added because it consists to a simple file to add in the Veloren source code, even non-developper people can contribute by taking the English file as example. So how does it look like?




Yeah! Our text is translated and we can now enjoy Veloren in French… and in any other languages virtually. But there is still an issue here, what are these weird character “F” wrapped in a white box? Well, current version of Veloren uses a set of font with a partial support of the worldwide available characters. In fact, even common latin languages like Spanish or French are not completely compatible. A quick workaround we implemented for the 0.5.0 is to convert these unsupported characters to standard letters (A to Z), giving a more readible output.


And here is the result you will have in the 0.5.0: a pretty translated version, but still incorrect regarding the language rules. So, what is planned for 0.6.0 version and beyond:
Add a way to use different fonts depending on the language in order to have a correct display
Add translations of the bag items
Find better fonts supporting a wider range of characters
Add MOAR localizations! (Contributions are welcome!)

Here is a preview of the font customization feature:

[Insert video of font customization here]













